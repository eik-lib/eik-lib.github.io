"use strict";(self.webpackChunkeik=self.webpackChunkeik||[]).push([[414],{9389:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>t,metadata:()=>c,toc:()=>l});var i=s(4848),a=s(8453);const t={id:"client_npm_packages",title:"ESM Friendly NPM Packages",sidebar_label:"NPM Packages"},r=void 0,c={id:"client_npm_packages",title:"ESM Friendly NPM Packages",description:"One task Eik can be used for is to serve packages that have been published to NPM as served, ESM friendly versions for you to use in your app packages.",source:"@site/docs/client_npm_packages.md",sourceDirName:".",slug:"/client_npm_packages",permalink:"/docs/client_npm_packages",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"client_npm_packages",title:"ESM Friendly NPM Packages",sidebar_label:"NPM Packages"},sidebar:"mainSidebar",previous:{title:"Application Packages",permalink:"/docs/client_app_packages"},next:{title:"Import Maps",permalink:"/docs/client_import_maps"}},o={},l=[{value:"The eik type field",id:"the-eik-type-field",level:2},{value:"Server URLs",id:"server-urls",level:3},{value:"Package URL format",id:"package-url-format",level:4},{value:"ESM Imports",id:"esm-imports",level:4},{value:"Accessing installed NPM packages",id:"accessing-installed-npm-packages",level:2},{value:"The Eik meta command",id:"the-eik-meta-command",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"One task Eik can be used for is to serve packages that have been published to NPM as served, ESM friendly versions for you to use in your app packages."}),"\n",(0,i.jsxs)(n.p,{children:["This is similar to what ",(0,i.jsx)(n.a,{href:"https://unpkg.com/",children:"unpkg"})," and ",(0,i.jsx)(n.a,{href:"https://www.pika.dev/",children:"pika"})," do except that by serving these directly from Eik you are not dependent on a third party service and you can maintain more fine grained control over package versioning."]}),"\n",(0,i.jsx)(n.p,{children:"When combined with Eik's aliasing feature, this gives you a powerful way to manage dependency versions across multiple applications."}),"\n",(0,i.jsx)(n.h2,{id:"the-eik-type-field",children:"The eik type field"}),"\n",(0,i.jsxs)(n.p,{children:["While not strictly necessary, to avoid clashes with your own app packages, Eik provides a namespace specifically for NPM packages. To use this ",(0,i.jsx)(n.code,{children:"npm"})," namespace, simply set the ",(0,i.jsx)(n.code,{children:"type"})," field in ",(0,i.jsx)(n.code,{children:"eik.json"})," to ",(0,i.jsx)(n.code,{children:"npm"})," like so:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "name": "lit",\n    "server": "https://assets.myserver.com",\n    "version": "1.0.0",\n    "type": "npm",\n    "files": "./public"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["When you do so, running the ",(0,i.jsx)(n.code,{children:"npm publish"})," command will publish all files under the ",(0,i.jsx)(n.code,{children:"npm"})," path on the Eik server."]}),"\n",(0,i.jsx)(n.h3,{id:"server-urls",children:"Server URLs"}),"\n",(0,i.jsx)(n.p,{children:"Package URLs follow a specific format which are predictable so you can import any published packages into your application code via its URL."}),"\n",(0,i.jsx)(n.h4,{id:"package-url-format",children:"Package URL format"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"http(s)://<server origin>/npm/<package name>/<package version>/<filename>.<extension>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If we were to run publish using the ",(0,i.jsx)(n.code,{children:"eik.json"})," file definition above, resulting URLs would look like something like:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"https://myeikserver.com/npm/lit/1.0.0/index.js\n"})}),"\n",(0,i.jsx)(n.h4,{id:"esm-imports",children:"ESM Imports"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import lodash from 'https://myeikserver.com/npm/lit/1.0.0/index.js'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"accessing-installed-npm-packages",children:"Accessing installed NPM packages"}),"\n",(0,i.jsx)(n.h3,{id:"the-eik-meta-command",children:"The Eik meta command"}),"\n",(0,i.jsxs)(n.p,{children:["To view publish information, you can use the ",(0,i.jsx)(n.code,{children:"eik meta"})," command."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"eik meta lit\n"})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>c});var i=s(6540);const a={},t=i.createContext(a);function r(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);