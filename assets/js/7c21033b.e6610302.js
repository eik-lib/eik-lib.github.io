"use strict";(self.webpackChunkeik=self.webpackChunkeik||[]).push([[4590],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),d=r,k=u["".concat(s,".").concat(d)]||u[d]||m[d]||i;return n?a.createElement(k,o(o({ref:t},c),{},{components:n})):a.createElement(k,o({ref:t},c))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},8970:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},assets:function(){return c},toc:function(){return m},default:function(){return d}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],l={id:"client_npm_packages",title:"ESM Friendly NPM Packages",sidebar_label:"NPM Packages"},s=void 0,p={unversionedId:"client_npm_packages",id:"client_npm_packages",title:"ESM Friendly NPM Packages",description:"One task Eik can perform is to take packages that have been published to NPM and create and serve ESM friendly versions for you to use in your app packages.",source:"@site/docs/client_npm_packages.md",sourceDirName:".",slug:"/client_npm_packages",permalink:"/docs/client_npm_packages",tags:[],version:"current",frontMatter:{id:"client_npm_packages",title:"ESM Friendly NPM Packages",sidebar_label:"NPM Packages"},sidebar:"mainSidebar",previous:{title:"Application Packages",permalink:"/docs/client_app_packages"},next:{title:"Import Maps",permalink:"/docs/client_import_maps"}},c={},m=[{value:"The eik npm command",id:"the-eik-npm-command",level:2},{value:"Publishing from NPM",id:"publishing-from-npm",level:2},{value:"Install a specific version",id:"install-a-specific-version",level:3},{value:"Install the latest version",id:"install-the-latest-version",level:3},{value:"Accessing installed NPM packages",id:"accessing-installed-npm-packages",level:2},{value:"The Eik meta command",id:"the-eik-meta-command",level:3},{value:"Server URLs",id:"server-urls",level:3},{value:"Package URL format",id:"package-url-format",level:4},{value:"ESM Imports",id:"esm-imports",level:4}],u={toc:m};function d(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"One task Eik can perform is to take packages that have been published to NPM and create and serve ESM friendly versions for you to use in your app packages."),(0,i.kt)("p",null,"This is similar to what ",(0,i.kt)("a",{parentName:"p",href:"https://unpkg.com/"},"unpkg")," and ",(0,i.kt)("a",{parentName:"p",href:"https://www.pika.dev/"},"pika")," do except that Eik will automatically transpile ",(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/CommonJS"},"common js")," packages into an ESM version (as well as a fallback version for older browsers) before serving."),(0,i.kt)("p",null,"When combined with Eik's aliasing feature, this gives you a powerful way to manage dependency versions across multiple applications."),(0,i.kt)("h2",{id:"the-eik-npm-command"},"The eik npm command"),(0,i.kt)("p",null,"To view subcommands and additional help in your terminal you can use"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"eik npm --help\n")),(0,i.kt)("h2",{id:"publishing-from-npm"},"Publishing from NPM"),(0,i.kt)("p",null,"As an example of how this works, let's publish a version of the popular ",(0,i.kt)("inlineCode",{parentName:"p"},"lodash")," package to Eik."),(0,i.kt)("h3",{id:"install-a-specific-version"},"Install a specific version"),(0,i.kt)("p",null,"Call the command with the name and version of the package you want to install from NPM."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"eik npm lodash 4.17.15\n")),(0,i.kt)("h3",{id:"install-the-latest-version"},"Install the latest version"),(0,i.kt)("p",null,"It's possible to omit the version argument to get the latest available version on NPM."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"eik npm lodash\n")),(0,i.kt)("h2",{id:"accessing-installed-npm-packages"},"Accessing installed NPM packages"),(0,i.kt)("h3",{id:"the-eik-meta-command"},"The Eik meta command"),(0,i.kt)("p",null,"To view publish information, you can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"eik meta")," command."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"eik meta lodash\n")),(0,i.kt)("h3",{id:"server-urls"},"Server URLs"),(0,i.kt)("p",null,"Package URLs follow a specific format which are predictable so you can import any published packages into your application code via its URL."),(0,i.kt)("h4",{id:"package-url-format"},"Package URL format"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"http(s)://<server origin>/npm/<package name>/<package version>/index.js\n")),(0,i.kt)("h4",{id:"esm-imports"},"ESM Imports"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import lodash from 'https://myeikserver.com/npm/lodash/4.17.15/index.js'\n")))}d.isMDXComponent=!0}}]);