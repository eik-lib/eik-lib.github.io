"use strict";(self.webpackChunkeik=self.webpackChunkeik||[]).push([[701],{5664:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>r,default:()=>l,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"guides/webpack","title":"Using Eik with Webpack","description":"Webpack by default does not output ECMAScript modules (ESM). Eik is designed around ESM. Your Webpack build must output ESM.","source":"@site/docs/guides/webpack.md","sourceDirName":"guides","slug":"/guides/webpack","permalink":"/docs/guides/webpack","draft":false,"unlisted":false,"editUrl":"https://github.com/eik-lib/eik-lib.github.io/tree/source/docs/guides/webpack.md","tags":[],"version":"current","frontMatter":{"title":"Using Eik with Webpack"},"sidebar":"sidebar","previous":{"title":"Using Eik with PostCSS","permalink":"/docs/guides/postcss"},"next":{"title":"Publish to Eik on GitHub Actions","permalink":"/docs/guides/github-actions"}}');var s=n(4848),o=n(8453);const d={title:"Using Eik with Webpack"},r=void 0,u={},c=[{value:"Getting started",id:"getting-started",level:2},{value:"Configure your build",id:"configure-your-build",level:2},{value:"Run your build",id:"run-your-build",level:2},{value:"Advanced usage",id:"advanced-usage",level:2}];function a(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsxs)(t.p,{children:["Webpack by default does not output ECMAScript modules (ESM). Eik is designed around ESM. Your Webpack build ",(0,s.jsx)(t.a,{href:"https://webpack.js.org/configuration/output/#outputmodule",children:"must output ESM"}),"."]})}),"\n",(0,s.jsxs)(t.p,{children:["This guide describes how to configure ",(0,s.jsx)(t.a,{href:"https://webpack.js.org/",children:"Webpack"})," to use ",(0,s.jsx)(t.a,{href:"/docs/introduction/workflow#build-time-import-mapping",children:"build-time import mapping"}),". The guide assumes you have an ",(0,s.jsx)(t.code,{children:"eik.json"})," containing at least one ",(0,s.jsx)(t.a,{href:"/docs/reference/eik-json#import-map",children:(0,s.jsx)(t.code,{children:'"import-map"'})}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"getting-started",children:"Getting started"}),"\n",(0,s.jsxs)(t.p,{children:["Install ",(0,s.jsx)(t.a,{href:"https://github.com/eik-lib/webpack-plugin#readme",children:(0,s.jsx)(t.code,{children:"@eik/webpack-plugin"})}),", and ",(0,s.jsx)(t.code,{children:"webpack"})," if you haven't already."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"npm install --save-dev webpack webpack-cli @eik/webpack-plugin\n"})}),"\n",(0,s.jsx)(t.h2,{id:"configure-your-build",children:"Configure your build"}),"\n",(0,s.jsxs)(t.p,{children:["Create ",(0,s.jsx)(t.code,{children:"webpack.config.js"})," or extend your existing config to add the Eik plugin."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'export default {\n\tentry: "./src/input.js",\n\toutput: {\n\t\tenvironment: {\n\t\t\t// Eik requires ESM output\n\t\t\tmodule: true,\n\t\t},\n\t\tfilename: "bundle.js",\n\t\tpath: "./public/",\n\t},\n\texperiments: {\n\t\t// Eik requires ESM output\n\t\toutputModule: true,\n\t},\n\tmodule: {\n\t\trules: [\n\t\t\t{\n\t\t\t\ttest: /\\.js$/,\n\t\t\t\tuse: {\n\t\t\t\t\tloader: "@eik/webpack-plugin",\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n};\n'})}),"\n",(0,s.jsx)(t.h2,{id:"run-your-build",children:"Run your build"}),"\n",(0,s.jsxs)(t.p,{children:["Add this script to ",(0,s.jsx)(t.code,{children:"package.json"})," if you haven't already."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n\t"scripts": {\n\t\t"build": "webpack",\n\t\t"dev": "webpack --watch"\n\t}\n}\n'})}),"\n",(0,s.jsx)(t.p,{children:"Now you can run a production build using the Eik plugin by running this command."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"npm run build\n"})}),"\n",(0,s.jsx)(t.h2,{id:"advanced-usage",children:"Advanced usage"}),"\n",(0,s.jsxs)(t.p,{children:["See the ",(0,s.jsx)(t.a,{href:"https://github.com/eik-lib/webpack-plugin#description",children:"plugin documentation"})," for advanced options on loading import maps."]})]})}function l(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>d,x:()=>r});var i=n(6540);const s={},o=i.createContext(s);function d(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);